(this["webpackJsonpreact-cruds"]=this["webpackJsonpreact-cruds"]||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n(151),s=n(153),o=n(52),l=n(148),u=Object(l.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),d=n(6),p=function(){var e=u();return Object(d.jsx)("div",{className:e.root,children:Object(d.jsx)(i.a,{position:"static",children:Object(d.jsx)(s.a,{children:Object(d.jsx)(o.a,{variant:"h6",className:e.title,children:"CRUDS"})})})})},b=n(12),j=n.n(b),m=n(19),f=n(32),h=n(22),v=n(154),O=n(155),x=n(165),g=n(157),y=n(37),w=n(38),k=Object(a.createContext)([]),N=function(e,t){switch(t.type){case"Get":return function(e){return Object(w.a)(e.payload)}(t);case"Create":return function(e,t){return[].concat(Object(w.a)(e),[t.payload])}(e,t);case"Update":return function(e,t){return[].concat(Object(w.a)(e.filter((function(e){return e._id!==t.payload._id}))),[t.payload])}(e,t);case"Delete":return function(e,t){return e.filter((function(e){return e._id!==t.payload._id}))}(e,t);default:throw new Error("No such action defined")}},C=function(e){var t=Object(a.useReducer)(N,[]),n=Object(y.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)({}),s=Object(y.a)(i,2),o=s[0],l=s[1];return Object(d.jsx)(k.Provider,{value:{items:r,dispatch:c,editing:o,setEditing:l},children:e.children})},I=k,S=n(39),_=n.n(S),E="https://cruds-api.herokuapp.com/item",F=function(){var e=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("".concat(E,"/getAll"));case 3:return t=e.sent,console.log(t),e.abrupt("return",t.data);case 8:e.prev=8,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: http.js ~ line 10 ~ getItems ~ error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(E,"/create"),t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: http.js ~ line 22 ~ createItem ~ error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(E,"/update/").concat(t._id),t);case 3:return n=e.sent,e.abrupt("return",n.data.updatedForm);case 7:e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: http.js ~ line 34 ~ updateItem ~ error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(E,"/delete/").concat(t._id));case 3:return n=e.sent,e.abrupt("return",n.data.message);case 7:e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: http.js ~ line 43 ~ deleteItem ~ error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(m.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.post("".concat(E,"/mail"),t);case 3:return n=e.sent,window.open(n.data.sendMailData.url,"_blank").focus(),e.abrupt("return",n.data.message);case 8:e.prev=8,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: http.js ~ line 54 ~ mailItems ~ error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),J=Object(l.a)((function(e){return{paper:{marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%"},formInputs:Object(h.a)({display:"grid",gap:"0 2rem",gridTemplateColumns:"repeat(2, 1fr);",justifyContent:"center"},e.breakpoints.down("sm"),{display:"block"}),textField:{},submit:Object(h.a)({display:"block",width:"40%",margin:e.spacing(3,"auto",2)},e.breakpoints.down("sm"),{width:"90%"})}})),L=n(77),B=function(){var e,t,n,r,c,i=J(),s=Object(a.useContext)(I),l=s.dispatch,u=s.editing,p=s.setEditing,b=[{value:null!==(e=u.name)&&void 0!==e?e:"",id:"name",type:"text",name:"name",label:"Name"},{value:null!==(t=u.mobile)&&void 0!==t?t:"",id:"mobile",type:"number",name:"mobile",label:"Mobile Number"},{value:null!==(n=u.email)&&void 0!==n?n:"",id:"email",type:"email",name:"email",label:"Email"},{value:null!==(r=null===(c=u.hobbies)||void 0===c?void 0:c.join(","))&&void 0!==r?r:"",id:"hobbies",type:"text",name:"hobbies",label:"Hobbies"}],y=b.map((function(e){return Object(h.a)({},e.id,e.value)})).reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),t)})),w=Object(L.a)({initialValues:y,onSubmit:function(){var e=Object(m.a)(j.a.mark((function e(t){var n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(JSON.stringify(t)!==JSON.stringify(y)){e.next=2;break}return e.abrupt("return");case 2:if(n=Object(f.a)(Object(f.a)({},t),{},{hobbies:t.hobbies.split(",")}),u._id){e.next=15;break}return e.prev=4,e.next=7,D(n);case 7:a=e.sent,l({type:"Create",payload:a}),w.setValues(y),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("\ud83d\ude80 ~ file: Form.js ~ line 73 ~ onSubmit: ~ error",e.t0);case 15:if(!u._id){e.next=27;break}return e.prev=16,e.next=19,R(Object(f.a)(Object(f.a)({},u),n));case 19:r=e.sent,l({type:"Update",payload:r}),p({}),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(16),console.log("\ud83d\ude80 ~ file: Form.js ~ line 91 ~ onSubmit editing: ~ error",e.t1);case 27:case"end":return e.stop()}}),e,null,[[4,12],[16,24]])})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0});return Object(d.jsxs)(v.a,{component:"main",children:[Object(d.jsx)(O.a,{}),Object(d.jsxs)("div",{className:i.paper,children:[Object(d.jsx)(o.a,{component:"h1",variant:"h5",children:u.name?"Update Item":"Create New Item"}),Object(d.jsxs)("form",{className:i.form,onSubmit:w.handleSubmit,children:[Object(d.jsx)("div",{className:i.formInputs,children:b.map((function(e){return Object(d.jsx)(x.a,{className:i.textField,variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:w.values[e.id],id:e.id,label:e.label,name:e.name,onChange:w.handleChange,error:w.touched[e.name]&&Boolean(w.errors[e.name]),helperText:w.touched[e.name]&&w.errors[e.name]},e.id)}))}),Object(d.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",className:i.submit,children:u.name?"Update":"Create"})]})]})]})},M=n(156),P=n(158),T=n(159),A=n(166),V=n(161),q=n(162),z=n(160),H=n(167),W=n(163),K=n(164),Q=Object(l.a)((function(e){return{root:Object(h.a)({width:"90%",margin:"auto",backgroundColor:e.palette.background.paper},e.breakpoints.down("sm"),{width:"100%"}),nested:{paddingLeft:e.spacing(4),display:"flex",overflow:"scroll"},submit:{display:"block",alignSelf:"end"},edit:{"&:hover":{color:e.palette.primary.main}},delete:{"&:hover":{color:e.palette.error.main}},chip:{padding:e.spacing(0,1),margin:e.spacing(0,1)}}})),X=function(){var e=Q(),t=Object(a.useState)([]),n=Object(y.a)(t,2),c=n[0],i=n[1],s=Object(a.useState)(),o=Object(y.a)(s,2),l=o[0],u=o[1],p=Object(a.useContext)(I),b=p.items,f=p.dispatch,h=p.setEditing;Object(a.useEffect)((function(){var e=function(){var e=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F();case 3:t=e.sent,f({type:"Get",payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\ud83d\ude80 ~ file: ItemList.js ~ line 36 ~ getAllItems ~ error",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[f]);var v=function(){var e=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,G(c);case 4:t=e.sent,alert(t),i([]),u(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("\ud83d\ude80 ~ file: ItemList.js ~ line 64 ~ onSend ~ error",e.t0),i([]),u(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(e){return Object(m.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U(e);case 3:n=t.sent,alert(n),f({type:"Delete",payload:e}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("\ud83d\ude80 ~ file: ItemList.js ~ line 76 ~ onDeleteItem ~ error",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))},x=function(e){return function(){h(e)}};return Object(d.jsxs)(M.a,{className:e.root,children:[Object(d.jsx)(g.a,{type:"submit",variant:"contained",color:"primary",disabled:l||0===c.length,onClick:v,className:e.submit,children:l?"Sending...":"Send"}),b.map((function(t){return Object(d.jsxs)(r.a.Fragment,{children:[Object(d.jsxs)(P.a,{role:void 0,dense:!0,children:[Object(d.jsx)(T.a,{children:Object(d.jsx)(A.a,{onClick:(n=t,function(){var e=c.indexOf(n),t=Object(w.a)(c);-1===e?t.push(n):t.splice(e,1),i(t)}),edge:"start",checked:-1!==c.indexOf(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-label":t._id}})}),Object(d.jsxs)("div",{children:[Object(d.jsx)(V.a,{id:t._id,primary:t.name}),Object(d.jsx)(V.a,{id:t._id,primary:t.mobile}),Object(d.jsx)(V.a,{id:t._id,primary:t.email})]}),Object(d.jsxs)(q.a,{children:[Object(d.jsx)(z.a,{className:e.edit,onClick:x(t),edge:"end","aria-label":"edit",children:Object(d.jsx)(W.a,{})}),Object(d.jsx)(z.a,{className:e.delete,onClick:O(t),edge:"end","aria-label":"delete",children:Object(d.jsx)(K.a,{})})]})]}),Object(d.jsx)(M.a,{component:"div",disablePadding:!0,children:Object(d.jsx)(P.a,{className:e.nested,children:t.hobbies.map((function(t,n){return Object(d.jsx)(H.a,{variant:"outlined",label:t,className:e.chip},n)}))})})]},t._id);var n}))]})},Y=function(){return Object(d.jsxs)(a.Fragment,{children:[Object(d.jsx)(p,{}),Object(d.jsxs)(C,{children:[Object(d.jsx)(B,{}),Object(d.jsx)(X,{})]})]})};n(116);Object(c.render)(Object(d.jsx)(a.StrictMode,{children:Object(d.jsx)(Y,{})}),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.06ac3242.chunk.js.map